# =============================================================================
# БАЗОВІ ЗМІННІ ОТОЧЕННЯ
# =============================================================================
# Цей файл містить загальні змінні, які використовуються всіма сервісами
# НЕ містить секретів - тільки публічні конфігурації

# =============================================================================
# ОСНОВНІ НАЛАШТУВАННЯ ПРОЕКТУ
# =============================================================================
PROJECT_NAME=AutoRia Platform
PROJECT_VERSION=1.0.0
COMPOSE_PROJECT_NAME=final_drf_next_sept_2024

# =============================================================================
# МЕРЕЖЕВІ НАЛАШТУВАННЯ (Docker)
# =============================================================================
# PostgreSQL
POSTGRES_HOST=pg
POSTGRES_PORT=5432
POSTGRES_DB=db
POSTGRES_USER=user
POSTGRES_PASSWORD=password

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# RabbitMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_USER=guest

# =============================================================================
# СЕРВІСИ НАЛАШТУВАННЯ (Docker)
# =============================================================================
# Backend (Django)
BACKEND_HOST=app
BACKEND_PORT=8000
BACKEND_URL=http://app:8000

# Frontend (Next.js)
FRONTEND_HOST=frontend
FRONTEND_PORT=3000
FRONTEND_URL=http://frontend:3000

# Nginx
NGINX_HOST=nginx
NGINX_PORT=80

# =============================================================================
# ПУБЛІЧНІ URL ДЛЯ БРАУЗЕРА
# =============================================================================
NEXT_PUBLIC_BACKEND_URL=http://localhost:8000
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_WS_HOST=localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000

# =============================================================================
# NEXTAUTH НАЛАШТУВАННЯ
# =============================================================================
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_URL_INTERNAL=http://frontend:3000

# =============================================================================
# CELERY НАЛАШТУВАННЯ
# =============================================================================
CELERY_RESULT_BACKEND=redis://redis:6379/0

# =============================================================================
# ДОДАТКОВІ НАЛАШТУВАННЯ
# =============================================================================
TZ=Europe/Kiev
DEFAULT_LANGUAGE=uk
LOG_LEVEL=INFO

# =============================================================================
# MAILING SERVICE CONFIGURATION
# =============================================================================
MAILING_HOST=0.0.0.0
MAILING_PORT=8001

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
FROM_EMAIL=noreply@autoRia.com
FROM_NAME=AutoRia Platform

# Celery Integration
CELERY_TASK_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_RESULT_SERIALIZER=json

# =============================================================================
# GOOGLE OAUTH (публічні)
# =============================================================================
NEXT_PUBLIC_GOOGLE_CLIENT_ID=317007351021-lhq7qt2ppsnihugttrs2f81nmvjbi0vr.apps.googleusercontent.com

# =============================================================================
# DJANGO SPECIFIC CONFIGURATION
# =============================================================================
DJANGO_PORT=8000
DJANGO_SETTINGS_MODULE=config.settings
IS_SEEDING_REQUIRED=true
RUN_SEEDS=true

# Django Media & Static
MEDIA_URL=/media/
STATIC_URL=/static/
MEDIA_ROOT=/app/media
STATIC_ROOT=/app/staticfiles

# Django Cache
CACHE_TIMEOUT=300
CACHE_KEY_PREFIX=autoRia

# Django Session
SESSION_COOKIE_AGE=86400
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true

# Django Security
SECURE_BROWSER_XSS_FILTER=true
SECURE_CONTENT_TYPE_NOSNIFF=true
X_FRAME_OPTIONS=DENY

# =============================================================================
# FRONTEND SPECIFIC CONFIGURATION
# =============================================================================
# Next.js
PORT=3000
HOST=0.0.0.0
NEXT_PUBLIC_BUILD_ID=dev
NEXT_TELEMETRY_DISABLED=1

# NextAuth базовые настройки (переопределяются в .env.local/.env.docker)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_URL_INTERNAL=http://localhost:3000
NEXT_DISABLE_DEVTOOLS=1

# Frontend публичные переменные (доступны в браузере)
NEXT_PUBLIC_BACKEND_URL=http://localhost:8000
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000

# =============================================================================
# CELERY SPECIFIC CONFIGURATION
# =============================================================================
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_ALWAYS_EAGER=false
CELERY_BEAT_SCHEDULE_FILENAME=/app/celerybeat-schedule
