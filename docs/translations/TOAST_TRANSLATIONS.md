# Документація з перекладів тостів

## Проблема

У проекті AutoRia Clone були виявлені проблеми з інтернаціоналізацією тостів (повідомлень):

1. **Статичні тексти**: Тости використовували фіксовані англійські або російські тексти замість перекладів
2. **Відсутність прив'язки до мови**: Повідомлення не змінювалися при зміні мови інтерфейсу
3. **Неконсистентність**: Різні частини додатку використовували різні підходи до показу тостів

## Рішення

### 1. Додано загальні переклади для тостів

У всі файли локалізації (`en.ts`, `ru.ts`, `uk.ts`) додано базові ключі:

```typescript
// Загальні переклади для тостів
"toast.success": "✅ Успішно",
"toast.error": "❌ Помилка", 
"toast.warning": "⚠️ Попередження",
"toast.info": "ℹ️ Інформація",
```

### 2. Створено інтернаціоналізований хелпер

**Файл**: `src/lib/i18n-toast-helper.ts`

Новий хелпер `useI18nToast()` автоматично використовує активну мову:

```typescript
import { useI18nToast } from '@/lib/i18n-toast-helper';

function MyComponent() {
  const toast = useI18nToast();
  
  // Автоматично використовує переклади
  toast.success("Операція виконана успішно");
  toast.error("Сталася помилка");
  toast.warning("Увага!");
  toast.info("Корисна інформація");
}
```

### 3. Оновлено існуючі хелпери

- **`use-toast.ts`**: Замінено англійські тексти на українські
- **`toast-helper.ts`**: Позначено як застарілий з рекомендацією використовувати новий хелпер

### 4. Переклади для конкретних сценаріїв

Додано спеціалізовані переклади для різних сценаріїв:

#### Пошук (Search Page)
```typescript
"search.toast.loginRequired": "Потрібен вхід",
"search.toast.favoriteToggleError": "Не вдалося змінити обране",
"search.toast.adDeleted": "✅ Оголошення видалено",
// ... інші
```

#### Модерація (Moderation Page)
```typescript
"moderation.toast.authRequired": "❌ Потрібна аутентифікація",
// ... інші
```

## Використання

### Рекомендований спосіб (з інтернаціоналізацією)

```typescript
import { useI18nToast } from '@/lib/i18n-toast-helper';

function MyComponent() {
  const toast = useI18nToast();
  
  const handleSuccess = () => {
    toast.success("Дані збережено успішно");
  };
  
  const handleError = () => {
    toast.error("Не вдалося зберегти дані");
  };
}
```

### Використання з конкретними ключами перекладів

```typescript
import { useI18n } from '@/contexts/I18nContext';
import { useToast } from '@/modules/autoria/shared/hooks/use-toast';

function SearchComponent() {
  const { t } = useI18n();
  const { toast } = useToast();
  
  const handleLoginRequired = () => {
    toast({
      title: t('search.toast.loginRequired'),
      description: t('search.toast.loginRequiredDescription'),
      variant: 'destructive'
    });
  };
}
```

### Застарілий спосіб (не рекомендується)

```typescript
// ❌ Не використовуйте - фіксовані тексти
import { showSuccess, showError } from '@/lib/toast-helper';

showSuccess("Успешно"); // Завжди російською
```

## Структура перекладів

### Загальні тости
- `toast.success` - Заголовок успішних повідомлень
- `toast.error` - Заголовок помилок
- `toast.warning` - Заголовок попереджень  
- `toast.info` - Заголовок інформаційних повідомлень

### Спеціалізовані тости
- `search.toast.*` - Повідомлення для сторінки пошуку
- `moderation.toast.*` - Повідомлення для модерації
- `auth.toast.*` - Повідомлення авторизації
- `loading.*` - Повідомлення завантаження

## Міграція існуючого коду

### Крок 1: Замінити старі хелпери

```typescript
// ❌ Старий код
import { showSuccess } from '@/lib/toast-helper';
showSuccess("Данные сохранены");

// ✅ Новий код
import { useI18nToast } from '@/lib/i18n-toast-helper';
const toast = useI18nToast();
toast.success("Дані збережено");
```

### Крок 2: Використовувати ключі перекладів

```typescript
// ❌ Старий код
toast.success("Объявление удалено");

// ✅ Новий код
toast.success(t('search.toast.adDeletedDescription'));
```

### Крок 3: Додати нові ключі при необхідності

Якщо потрібного перекладу немає, додайте його в усі файли локалізації:

```typescript
// en.ts, ru.ts, uk.ts
"myFeature.toast.customMessage": "Переклад повідомлення",
```

## Переваги нового підходу

1. **Автоматична інтернаціоналізація**: Тости змінюють мову разом з інтерфейсом
2. **Консистентність**: Єдиний підхід для всього додатку
3. **Легкість підтримки**: Всі тексти в одному місці
4. **Типобезпека**: TypeScript перевірки для ключів перекладів
5. **Гнучкість**: Можливість налаштування тривалості, варіантів тощо

## Тестування

Для перевірки правильності роботи:

1. Змініть мову в селекторі мов
2. Викличте дію, що показує тост
3. Переконайтеся, що повідомлення відображається обраною мовою

## Додаткові рекомендації

- Завжди використовуйте `useI18nToast()` для нових компонентів
- Додавайте переклади для всіх підтримуваних мов одночасно
- Використовуйте описові ключі перекладів (наприклад, `search.toast.adDeleted`)
- Тестуйте тости на всіх підтримуваних мовах
