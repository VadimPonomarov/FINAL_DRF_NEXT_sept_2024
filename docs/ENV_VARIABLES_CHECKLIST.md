# üìã –ü–µ—Ä–µ–ª—ñ–∫ –ó–º—ñ–Ω–Ω–∏—Ö –°–µ—Ä–µ–¥–æ–≤–∏—â–∞ - Checklist

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ú—ñ—Å—Ü—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö

### 1. `frontend/.env.local` (–û–ë–û–í'–Ø–ó–ö–û–í–ò–ô –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É)

```env
# REDIS (–æ–±–∏–¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ!)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0
NEXT_PUBLIC_REDIS_HOST=localhost       # ‚úÖ –î–ª—è client-side
NEXT_PUBLIC_REDIS_PORT=6379            # ‚úÖ –î–ª—è client-side
NEXT_PUBLIC_REDIS_URL=redis://localhost:6379/0  # ‚úÖ –î–ª—è client-side

# BACKEND
BACKEND_URL=http://localhost:8000
NEXT_PUBLIC_BACKEND_URL=http://localhost:8000   # ‚úÖ –î–ª—è client-side

# FRONTEND
FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000

# NEXTAUTH
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_URL_INTERNAL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key-min-32-chars

# ENVIRONMENT FLAGS
IS_DOCKER=false
NEXT_PUBLIC_IS_DOCKER=false            # ‚úÖ –î–ª—è client-side

# NODE
NODE_ENV=development
```

---

## üìÅ –§–∞–π–ª–∏, –¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∑–º—ñ–Ω–Ω—ñ

### Server-Side (process.env.*)

1. **`frontend/next.config.js`** (—Ä—è–¥–∫–∏ 29-52)
   - ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑ `env-config/.env.base`, `.env.secrets`
   - ‚ùå **–ù–ï** –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î `env-config/.env.local` (–≤–∏–¥–∞–ª–µ–Ω–æ)
   - ‚ÑπÔ∏è Next.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î `frontend/.env.local`

2. **`frontend/src/configs/auth.ts`** (—Ä—è–¥–∫–∏ 10-11)
   - `process.env.NEXTAUTH_URL`
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `AUTH_CONFIG` –∑ `constants.ts`

3. **`frontend/src/common/constants/constants.ts`** (—Ä—è–¥–∫–∏ 13-88)
   - `process.env.NEXT_PUBLIC_BACKEND_URL` (—Ä—è–¥–æ–∫ 15)
   - `process.env.BACKEND_URL` (—Ä—è–¥–æ–∫ 76)
   - `process.env.NEXTAUTH_URL` (—Ä—è–¥–æ–∫ 84)

4. **`frontend/src/utils/api/getBaseUrl.ts`** (—Ä—è–¥–∫–∏ 3-8)
   - `process.env.NEXT_PUBLIC_BACKEND_URL` (client-side)
   - `process.env.BACKEND_URL` (server-side)

5. **`frontend/src/utils/api/env.ts`** (—Ä—è–¥–∫–∏ 19-69)
   - `process.env.IS_DOCKER` (server-side)
   - `process.env.NEXT_PUBLIC_IS_DOCKER` (client-side)
   - `process.env.REDIS_HOST`, `REDIS_PORT`, `REDIS_URL`
   - `process.env.NEXT_PUBLIC_REDIS_HOST`, `NEXT_PUBLIC_REDIS_PORT`, `NEXT_PUBLIC_REDIS_URL`

6. **`frontend/src/app/api/redis/route.ts`** (—Ä—è–¥–∫–∏ 12-28)
   - `process.env.NEXT_PUBLIC_IS_DOCKER`
   - `process.env.NEXT_PUBLIC_REDIS_HOST`
   - `process.env.NEXT_PUBLIC_REDIS_PORT`
   - `process.env.NEXT_PUBLIC_REDIS_URL`

---

## üîç –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ñ–∞–π–ª—É

```bash
# PowerShell
Test-Path frontend\.env.local
# –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏: True

Get-Content frontend\.env.local
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É

–ü—Ä–∏ –∑–∞–ø—É—Å–∫—É `npm run dev` –≤ –∫–æ–Ω—Å–æ–ª—ñ –º–∞—é—Ç—å –∑'—è–≤–∏—Ç–∏—Å—è:

```
üîß Loaded environment variables from env-config/
üìÅ NEXTAUTH_SECRET: SET
üìÅ GOOGLE_CLIENT_ID: SET
üìÅ GOOGLE_CLIENT_SECRET: SET
üìÅ NEXT_PUBLIC_BACKEND_URL: http://localhost:8000
üìÅ REDIS_HOST: localhost
üìÅ REDIS_URL: redis://localhost:6379/0
üìÅ IS_DOCKER: false
üìÅ NEXT_PUBLIC_IS_DOCKER: false
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ (DevTools Console)

–í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools ‚Üí Console, –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è:

```
[Constants] Raw environment variables:
  NEXTAUTH_SECRET: [EMPTY] –∞–±–æ [DECRYPTED]
  GOOGLE_CLIENT_ID: [EMPTY] –∞–±–æ [DECRYPTED]
  GOOGLE_CLIENT_SECRET: [EMPTY] –∞–±–æ [DECRYPTED]
```

---

## ‚ùå –ß–∞—Å—Ç—ñ –ø–æ–º–∏–ª–∫–∏

### –ü–æ–º–∏–ª–∫–∞ 1: API –ø–æ–≤–µ—Ä—Ç–∞—î 500 (Internal Server Error)

**–ü—Ä–∏—á–∏–Ω–∞**: `BACKEND_URL` –∞–±–æ `NEXT_PUBLIC_BACKEND_URL` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ

**–†—ñ—à–µ–Ω–Ω—è**:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `frontend/.env.local`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å `npm run dev`

---

### –ü–æ–º–∏–ª–∫–∞ 2: Redis connection refused

**–ü—Ä–∏—á–∏–Ω–∞**: `REDIS_HOST`, `REDIS_PORT` –∞–±–æ `NEXT_PUBLIC_REDIS_*` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

**–†—ñ—à–µ–Ω–Ω—è**:
1. –î–æ–¥–∞–π—Ç–µ **–í–°–Ü** Redis –∑–º—ñ–Ω–Ω—ñ –≤ `frontend/.env.local`
2. –û—Å–æ–±–ª–∏–≤–æ –≤–∞–∂–ª–∏–≤—ñ: `NEXT_PUBLIC_REDIS_HOST`, `NEXT_PUBLIC_REDIS_PORT`, `NEXT_PUBLIC_REDIS_URL`

---

### –ü–æ–º–∏–ª–∫–∞ 3: NextAuth –Ω–µ –ø—Ä–∞—Ü—é—î

**–ü—Ä–∏—á–∏–Ω–∞**: `NEXTAUTH_URL`, `NEXTAUTH_SECRET` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

**–†—ñ—à–µ–Ω–Ω—è**:
1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `NEXTAUTH_URL=http://localhost:3000`
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `NEXTAUTH_SECRET` (–º—ñ–Ω—ñ–º—É–º 32 —Å–∏–º–≤–æ–ª–∏)

---

## üìù Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] `frontend/.env.local` —ñ—Å–Ω—É—î —ñ –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π
- [ ] –ú—ñ—Å—Ç–∏—Ç—å **–í–°–Ü** `NEXT_PUBLIC_*` –∑–º—ñ–Ω–Ω—ñ (–¥–ª—è client-side)
- [ ] –ú—ñ—Å—Ç–∏—Ç—å **–í–°–Ü** server-side –∑–º—ñ–Ω–Ω—ñ (–±–µ–∑ –ø—Ä–µ—Ñ—ñ–∫—Å—É)
- [ ] `next.config.js` **–ù–ï** –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ `env-config/.env.local`
- [ ] `npm run dev` –ø–æ–∫–∞–∑—É—î "üîß Loaded environment variables"
- [ ] –í –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫ –ø—Ä–æ missing env vars
- [ ] Backend API –¥–æ—Å—Ç—É–ø–Ω–∏–π: `curl http://localhost:8000/health`
- [ ] Redis –¥–æ—Å—Ç—É–ø–Ω–∏–π: `redis-cli ping` ‚Üí `PONG`

---

## üîß –®–≤–∏–¥–∫–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

–Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î:

```bash
# 1. –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–∏–π —Ñ–∞–π–ª
Remove-Item frontend\.env.local -Force

# 2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∑ template
Copy-Item docs\ENV_TEMPLATE.local frontend\.env.local

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å frontend
cd frontend
npm run dev
```

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `docker-compose logs app`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Next.js –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DevTools Console –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
4. –ó–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª `frontend/.env.local` –∑ —Ü–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º

