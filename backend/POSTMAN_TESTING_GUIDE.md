# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é AutoRia API —á–µ—Ä–µ–∑ Postman

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
2. [–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏](#-–¥–æ—Å—Ç—É–ø–Ω—ã–µ-–∫–æ–ª–ª–µ–∫—Ü–∏–∏)
3. [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è](#-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
4. [–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Newman](#-–∑–∞–ø—É—Å–∫-—á–µ—Ä–µ–∑-newman)
5. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–æ–ª–ª–µ–∫—Ü–∏–π)
6. [–û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-–æ—Ç–ª–∞–¥–∫–∞-–∏-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Backend –∑–∞–ø—É—â–µ–Ω** –Ω–∞ `http://localhost:8000` –≤ DEBUG —Ä–µ–∂–∏–º–µ
- **Newman** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `npm install -g newman`
- **Postman** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ backend
python ensure_test_superuser.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç/–æ–±–Ω–æ–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `pvs.versia@gmail.com` —Å –ø—Ä–∞–≤–∞–º–∏ superuser.

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ backend
newman run AutoRia_API_Complete_Test_Suite.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏

```bash
# Core API (32 –∑–∞–ø—Ä–æ—Å–∞)
newman run AutoRia_API_Core.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json

# Currency API (7 –∑–∞–ø—Ä–æ—Å–æ–≤)
newman run AutoRia_API_Currency.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json

# Moderation API (5 –∑–∞–ø—Ä–æ—Å–æ–≤)
newman run AutoRia_API_Moderation.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json

# Full Swagger (197 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
newman run AutoRia_Complete_197_Endpoints_FULL_SWAGGER.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json \
    --timeout-request 30000
```

## üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

| –ö–æ–ª–ª–µ–∫—Ü–∏—è | –§–∞–π–ª | –ó–∞–ø—Ä–æ—Å–æ–≤ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|----------|
| **Complete Test Suite** | `AutoRia_API_Complete_Test_Suite.postman_collection.json` | 94 | –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π |
| **Core API** | `AutoRia_API_Core.postman_collection.json` | 32 | –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: auth, users, accounts, ads, references |
| **Currency API** | `AutoRia_API_Currency.postman_collection.json` | 7 | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç –∏ –∫—É—Ä—Å—ã |
| **Moderation API** | `AutoRia_API_Moderation.postman_collection.json` | 5 | –ö–æ–Ω—Ç–µ–Ω—Ç-–º–æ–¥–µ—Ä–∞—Ü–∏—è –∏ —Ü–µ–Ω–∑—É—Ä–∞ |
| **Full Swagger** | `AutoRia_Complete_197_Endpoints_FULL_SWAGGER.postman_collection.json` | 197 | –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–∑ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã** –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **Pre-request Scripts –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –°–æ–∑–¥–∞—é—Ç/–æ–±–Ω–æ–≤–ª—è—é—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `/api/users/test/ensure-superuser/`
   - –õ–æ–≥–∏–Ω—è—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (regular, admin, superuser)
   - –°–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–æ–∫–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **Test Scripts** –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
   - –°—Ç–∞—Ç—É—Å-–∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤
   - –°—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
   - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** (`{{base_url}}`, `{{admin_access_token}}`) –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:

| –†–æ–ª—å | Email | –ü–∞—Ä–æ–ª—å |
|------|-------|--------|
| **Superuser/Admin** | `pvs.versia@gmail.com` | `12345678` |
| **Regular User** | `test.user@example.com` | `12345678` |
| **Seller** | `seller1@gmail.com` | `12345678` |

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Backend Endpoints

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```http
GET {{base_url}}/api/users/profile/
Authorization: Bearer {{access_token}}
```

Response:
```json
{
    "id": 2,
    "email": "pvs.versia@gmail.com",
    "is_staff": true,
    "is_superuser": true,
    "profile": {
        "name": "",
        "surname": "",
        "age": null,
        "avatar": null
    }
}
```

#### –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django management command –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤:

```bash
cd backend
python manage.py shell -c "
from apps.users.models import UserModel;
user, created = UserModel.objects.get_or_create(
    email='pvs.versia@gmail.com',
    defaults={'is_staff': True, 'is_superuser': True, 'is_active': True}
);
user.set_password('12345678');
user.is_staff = True;
user.is_superuser = True;
user.is_active = True;
user.save();
print(f'Superuser {\"created\" if created else \"updated\"}: {user.email}')
"
```

## üèÉ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Newman

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –° –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º
newman run <collection>.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json

# –° —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º (–¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
newman run <collection>.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json \
    --timeout-request 30000

# –° –æ—Ç—á–µ—Ç–æ–º –≤ HTML
newman run <collection>.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json \
    --reporters cli,html \
    --reporter-html-export ./test-results.html

# –° JSON –æ—Ç—á–µ—Ç–æ–º
newman run <collection>.postman_collection.json \
    -e AutoRia_API_Complete_Test_Suite.postman_environment.json \
    --reporters cli,json \
    --reporter-json-export ./test-results.json
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Newman

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `--timeout-request` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ (–º—Å) | `30000` (30 —Å–µ–∫) |
| `--delay-request` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–º—Å) | `100` |
| `--bail` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ | `--bail` |
| `--folder` | –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ | `--folder "Authentication"` |
| `--reporters` | –§–æ—Ä–º–∞—Ç—ã –æ—Ç—á–µ—Ç–æ–≤ | `cli,html,json` |
| `--color` | –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ | `on` –∏–ª–∏ `off` |

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π

### Collection Pre-request Script

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ª–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞/—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
pm.sendRequest({
    url: pm.environment.get('base_url') + '/api/auth/login',
    method: 'POST',
    header: {'Content-Type': 'application/json'},
    body: {
        mode: 'raw',
        raw: JSON.stringify({
            email: pm.environment.get('admin_user_email'),
            password: pm.environment.get('admin_user_password')
        })
    }
}, function(err, res) {
    if (!err && res.code === 200) {
        const jsonData = res.json();
        pm.environment.set('admin_access_token', jsonData.access);
        pm.environment.set('admin_refresh_token', jsonData.refresh);
        console.log('‚úÖ Admin logged in');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        pm.sendRequest({
            url: pm.environment.get('base_url') + '/api/users/profile/',
            method: 'GET',
            header: {
                'Authorization': `Bearer ${jsonData.access}`
            }
        }, function(err, res) {
            if (!err && res.code === 200) {
                const user = res.json();
                console.log(`üë§ User: ${user.email}`);
                console.log(`üëë Superuser: ${user.is_superuser}`);
                console.log(`üîß Staff: ${user.is_staff}`);
            }
        });
    }
});
```

### Request Pre-request Script

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
const adminToken = pm.environment.get('admin_access_token');
if (adminToken) {
    pm.request.headers.add({
        key: 'Authorization',
        value: `Bearer ${adminToken}`
    });
}
```

### Test Script

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm.test("‚úÖ Request successful", function () {
    pm.expect(pm.response.code).to.be.oneOf([200, 201]);
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
pm.test("‚úÖ Response structure valid", function () {
    const jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property('id');
    pm.expect(jsonData).to.have.property('email');
});

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
pm.test("‚úÖ Save user ID", function () {
    const jsonData = pm.response.json();
    pm.environment.set('created_user_id', jsonData.id);
});
```

## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ backend

```bash
curl http://localhost:8000/health
```

Expected:
```json
{
    "status": "healthy",
    "timestamp": "2025-01-01T12:00:00Z"
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ DEBUG —Ä–µ–∂–∏–º–∞

Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω —Å `DEBUG=True` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, –∏–Ω–∞—á–µ —Ç–µ—Å—Ç–æ–≤—ã–µ endpoints –Ω–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
curl -X POST http://localhost:8000/api/users/test/ensure-superuser/ \
    -H "Content-Type: application/json" \
    -d '{"email":"pvs.versia@gmail.com","password":"12345678"}'
```

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

#### 403 Forbidden –Ω–∞ –∞–¥–º–∏–Ω—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Å–æ–∑–¥–∞–Ω —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Pre-request Script –∫–æ–ª–ª–µ–∫—Ü–∏–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `admin_access_token` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ environment
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/users/test/ensure-superuser/` –≤—Ä—É—á–Ω—É—é

#### 500 Internal Server Error

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ backend –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Django: `backend/logs/django.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å backend
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ reference –¥–∞–Ω–Ω—ã–µ

#### Timeout errors

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ–¥–ª–µ–Ω–Ω—ã–µ endpoints (AI generation, bulk operations)

**–†–µ—à–µ–Ω–∏–µ:**
```bash
newman run collection.json \
    -e environment.json \
    --timeout-request 60000  # –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 60 —Å–µ–∫—É–Ω–¥
```

#### 404 Not Found —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{{ad_id}}`)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —Ä–µ—Å—É—Ä—Å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Test Scripts - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å IDs
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Newman:

```bash
newman run collection.json \
    -e environment.json \
    --verbose
```

–í Postman Console (View > Show Postman Console) –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- Pre-request script logs
- Request/Response details
- Test script logs
- Environment variables changes

## üìà –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫

```
AutoRia API - Complete Test Suite

‚úì Health Check
‚úì User Login
‚úì Admin Login
‚úì Create User
...

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         ‚îÇ           executed ‚îÇ            failed ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              iterations ‚îÇ                  1 ‚îÇ                 0 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                requests ‚îÇ                 94 ‚îÇ                 0 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ            test-scripts ‚îÇ                186 ‚îÇ                 0 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              assertions ‚îÇ                226 ‚îÇ                 0 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ß–∞—Å—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–≤–∞–ª—ã

```
   #  failure        detail
                                                                                
 1.  AssertionErr‚Ä¶  ‚úÖ User created successfully
                    expected 403 to equal 201
                    at assertion:0 in test-script
                    inside "Create User"
```

**–ê–Ω–∞–ª–∏–∑:** 
- Assertion ‚Ññ 0 –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è
- –û–∂–∏–¥–∞–ª—Å—è –∫–æ–¥ 201, –ø–æ–ª—É—á–µ–Ω 403
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

```
newman

AutoRia API - Complete Test Suite

‚úó Health Check
  ECONNREFUSED: Connection refused

‚Üí User Login
  SKIPPED
```

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º URL

## üéØ Best Practices

1. **–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ Complete Test Suite** –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--bail`** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –æ—à–∏–±–∫–∏
4. **–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ HTML –æ—Ç—á–µ—Ç—ã** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –≤ CI/CD** –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ Postman

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π request –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–∞–ø–∫—É
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Pre-request Script (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ auth)
3. –î–æ–±–∞–≤—å—Ç–µ Test Script –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–∞

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```javascript
// URL
{{base_url}}/api/ads/cars/{{ad_id}}

// Headers
Authorization: Bearer {{admin_access_token}}

// Body
{
    "title": "{{$randomProductName}}",
    "price": {{$randomInt}}
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ tests

```javascript
pm.test("‚úÖ Request successful", () => {
    pm.response.to.have.status(200);
});

pm.test("‚úÖ Response has data", () => {
    const json = pm.response.json();
    pm.expect(json).to.have.property('id');
});
```

### –®–∞–≥ 4: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é

1. File > Export
2. Collection v2.1 (recommended)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `backend/`

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Newman Documentation](https://learning.postman.com/docs/running-collections/using-newman-cli/command-line-integration-with-newman/)
- [Postman Learning Center](https://learning.postman.com/)
- [Chai Assertion Library](https://www.chaijs.com/api/bdd/)
- [pm.* API Reference](https://learning.postman.com/docs/writing-scripts/script-references/postman-sandbox-api-reference/)

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-24

