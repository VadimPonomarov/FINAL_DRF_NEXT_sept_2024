{
  "info": {
    "name": "AutoRia API - Admin Endpoints Collection",
    "description": "–ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "exec": [
          "// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ admin —Ç–æ–∫–µ–Ω–∞",
          "if (!pm.environment.get('admin_access_token')) {",
          "    console.log('‚ö†Ô∏è Admin access token not found. Please login as admin first.');",
          "}",
          "console.log('üîÑ Admin pre-request script executed for:', pm.info.requestName);"
        ],
        "type": "text/javascript"
      }
    }
  ],
  "item": [
    {
      "name": "üë• List All Users (Admin)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/users/admin/list/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "users",
            "admin",
            "list"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Admin can list users', function () { pm.response.to.have.status(200); });",
              "pm.test('Response is array', function () { pm.expect(pm.response.json()).to.be.an('array'); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üë§ Get User Details (Admin)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/users/admin/{{user_id}}/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "users",
            "admin",
            "{{user_id}}"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Admin can get user details', function () { pm.response.to.have.status(200); });",
              "pm.test('Response has user data', function () { pm.expect(pm.response.json()).to.have.property('email'); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üîß Grant Staff Rights",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/users/admin/{{user_id}}/grant-staff-rights/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "users",
            "admin",
            "{{user_id}}",
            "grant-staff-rights"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"is_staff\": true\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Staff rights granted successfully', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üìä Account Type Statistics",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/accounts/admin/stats/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "accounts",
            "admin",
            "stats"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Account stats retrieved successfully', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üîß Change Account Type",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/accounts/admin/{{account_id}}/type/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "accounts",
            "admin",
            "{{account_id}}",
            "type"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"account_type\": \"premium\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Account type changed successfully', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üì¶ Bulk Account Type Update",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/accounts/admin/bulk/type/update/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "accounts",
            "admin",
            "bulk",
            "type",
            "update"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"account_ids\": [\n    \"{{account_id}}\"\n  ],\n  \"account_type\": \"premium\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Bulk update successful', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üìä Moderation Dashboard",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/admin/moderation/dashboard/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "admin",
            "moderation",
            "dashboard"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Moderation dashboard accessible', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üìã Ads Pending Review",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/admin/moderation/list/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "admin",
            "moderation",
            "list"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Moderation list accessible', function () { pm.response.to.have.status(200); });",
              "pm.test('Response is array', function () { pm.expect(pm.response.json()).to.be.an('array'); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "‚úÖ Approve Advertisement",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/admin/{{ad_id}}/approve/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "admin",
            "{{ad_id}}",
            "approve"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"reason\": \"Content approved\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Advertisement approved successfully', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "‚ùå Reject Advertisement",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/admin/{{ad_id}}/reject/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "admin",
            "{{ad_id}}",
            "reject"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"reason\": \"Content violates policy\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Advertisement rejected successfully', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üì¶ Bulk Status Update",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/admin/bulk/status/update/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "admin",
            "bulk",
            "status",
            "update"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"ad_ids\": [\n    \"{{ad_id}}\"\n  ],\n  \"status\": \"approved\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Bulk status update successful', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üìä Daily Report",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/statistics/daily-report/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "statistics",
            "daily-report"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Daily report accessible', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "üí° User Insights",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/ads/statistics/user/insights/",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "ads",
            "statistics",
            "user",
            "insights"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('User insights accessible', function () { pm.response.to.have.status(200); });"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ]
}