# ‚ú® –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Backend –ß–∞—Ç–±–æ—Ç–∞ - –ö—Ä–∞—Ç–∫–∞—è –°–≤–æ–¥–∫–∞

## üéØ –¶–µ–ª—å
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —á–∞—Ç–±–æ—Ç–∞, –ø—Ä–∏–º–µ–Ω–∏–≤ best practices: SOLID, DRY, Clean Architecture.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞: **73.6%**
- **–î–æ**: 1683 —Å—Ç—Ä–æ–∫–∏ –≤ nodes
- **–ü–æ—Å–ª–µ**: 407 —Å—Ç—Ä–æ–∫ –≤ nodes
- **–°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ**: 1276 —Å—Ç—Ä–æ–∫

### –°–æ–∑–¥–∞–Ω–æ
- ‚úÖ **4** config –º–æ–¥—É–ª—è (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- ‚úÖ **3** utils –º–æ–¥—É–ª—è (text, url, validators)
- ‚úÖ **5** services (translation, price_parser, image, crawler, **table_formatter**)
- ‚úÖ **2** refactored nodes (chatai, crawler)

## üåü –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä TableFormatterService
**–ö—Ä–∞—Å–∏–≤—ã–µ HTML —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ü–µ–Ω:**

```python
{
    'table_html': '<table>...</table>',  # –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
    'table_data': [...],                  # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
    'summary': 'üí∞ –ù–∞–π–¥–µ–Ω–æ: 10 —Ç–æ–≤–∞—Ä–æ–≤\nüìä –ú–∏–Ω: 40–≥—Ä–Ω...',
    'stats': {'min': 40, 'max': 138, 'avg': 95.5}
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- üé® –ê–≤—Ç–æ—Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è (–∑–µ–ª—ë–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫)
- üìä –ê–≤—Ç–æ—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (min, max, avg)
- üñ±Ô∏è Hover —ç—Ñ—Ñ–µ–∫—Ç—ã
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚ö° –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π (–±–µ–∑ pandas)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Config ‚Üí Utils ‚Üí Services ‚Üí Nodes
   ‚Üì       ‚Üì        ‚Üì         ‚Üì
–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã  —á–∏—Å—Ç—ã–µ  –±–∏–∑–Ω–µ—Å   –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
          —Ñ—É–Ω–∫—Ü–∏–∏  –ª–æ–≥–∏–∫–∞
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã
- ‚úÖ **SOLID** - –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- ‚úÖ **DRY** - –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ **Clean Architecture** - —Å–ª–æ–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã
- ‚úÖ **Separation of Concerns** - —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```python
from apps.chat.services.image_service import image_generation_service

image_url = image_generation_service.generate_image("cat in space")
```

### –ü–∞—Ä—Å–∏–Ω–≥ —Ü–µ–Ω
```python
from apps.chat.services.crawler_service import crawler_service

result = await crawler_service.crawl_deep("https://shop.com", max_depth=2)
formatted = crawler_service.format_response(result)

# formatted —Å–æ–¥–µ—Ä–∂–∏—Ç:
# - result: —Ç–µ–∫—Å—Ç
# - table_html: –∫—Ä–∞—Å–∏–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
# - table_data: —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
# - stats: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### –ü–µ—Ä–µ–≤–æ–¥
```python
from apps.chat.services.translation_service import translation_service

english = translation_service.translate_to_english("—Å–æ–∑–¥–∞–π –ø–æ—Ä—Ç—Ä–µ—Ç –∫–æ—Ç–∞")
# ‚Üí "create portrait cat"
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å**: ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. `"—Å–æ–∑–¥–∞–π –ø–æ—Ä—Ç—Ä–µ—Ç –¥–æ–Ω–∞–ª—å–¥–∞ —Ç—Ä–∞–º–ø–∞"` ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
2. `"—Å–ø–∞—Ä—Å—å —Ü–µ–Ω—ã —Å https://edv.com.ua/"` ‚Üí HTML —Ç–∞–±–ª–∏—Ü–∞ —Å —Ü–µ–Ω–∞–º–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [`ARCHITECTURE.md`](./ARCHITECTURE.md) - –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [`REFACTORING_SUMMARY.md`](./REFACTORING_SUMMARY.md) - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `table_html`)
2. ‚è≠Ô∏è Unit —Ç–µ—Å—Ç—ã –¥–ª—è services
3. ‚è≠Ô∏è E2E —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ flow

---

**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–î–∞—Ç–∞**: 2025-01-23  
**–í–µ—Ä—Å–∏—è**: 2.0

