# üìö AutoRia API - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∏ –ü—Ä–æ–¥–∞–∂—É –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤

## üéØ –û–≥–ª—è–¥

–¶—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –º—ñ—Å—Ç–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–ª—è AutoRia API. API –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ RESTful —Ç–∞ –Ω–∞–¥–∞—î –ø–æ–≤–Ω—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—É –ø—Ä–æ–¥–∞–∂—É –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### üîß API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- **Swagger UI**: http://localhost:8000/api/doc/
- **ReDoc**: http://localhost:8000/api/redoc/
- **OpenAPI Schema**: –î–æ—Å—Ç—É–ø–Ω–∞ —É —Ñ–æ—Ä–º–∞—Ç–∞—Ö YAML —Ç–∞ JSON

### üìñ –î–µ—Ç–∞–ª—å–Ω—ñ –ü–æ—Å—ñ–±–Ω–∏–∫–∏
- [`API_COMPLETE_GUIDE.md`](./API_COMPLETE_GUIDE.md) - –ü–æ–≤–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API
- [`ADVANCED_MODERATION_SYSTEM.md`](./ADVANCED_MODERATION_SYSTEM.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó
- [`SUPERUSER_ENDPOINTS.md`](./SUPERUSER_ENDPOINTS.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤
- [`MOCK_DATA_SYSTEM.md`](./MOCK_DATA_SYSTEM.md) - –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- [`celery_tasks.md`](./celery_tasks.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω—å
- [`media_cleanup.md`](./media_cleanup.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–µ–¥—ñ–∞

## üè∑Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API –¢–µ–≥—ñ–≤

API –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∏—Ö —Ç–µ–≥—ñ–≤ –∑ –µ–º–æ–¥–∑—ñ:

### üîê –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- **üîê –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è** - –í—Ö—ñ–¥, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –≤–∏—Ö—ñ–¥, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞–º–∏
- **üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** - –ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–∏–º–∏ –¥–∞–Ω–∏–º–∏

### üè¢ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ê–∫–∞—É–Ω—Ç–æ–º
- **üìç –ê–¥—Ä–µ—Å–∏** - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –∞–¥—Ä–µ—Å–∞–º–∏ –∑ –≥–µ–æ–∫–æ–¥—É–≤–∞–Ω–Ω—è–º —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
- **üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏** - –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ñ –Ω–æ–º–µ—Ä–∏, –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ñ –ø–æ—à—Ç–∏ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

### üöó –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤
- **üöó –û–≥–æ–ª–æ—à–µ–Ω–Ω—è** - –ü–µ—Ä–µ–≥–ª—è–¥, –ø–æ—à—É–∫ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è–º–∏ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤
- **üì∏ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –û–≥–æ–ª–æ—à–µ–Ω—å** - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏ –¥–ª—è –æ–≥–æ–ª–æ—à–µ–Ω—å

### üè∑Ô∏è –î–æ–≤—ñ–¥–∫–æ–≤—ñ –î–∞–Ω—ñ –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤
- **üè∑Ô∏è –ú–∞—Ä–∫–∏ –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤** - –í–∏—Ä–æ–±–Ω–∏–∫–∏ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –±—Ä–µ–Ω–¥–∏
- **üöó –ú–æ–¥–µ–ª—ñ –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤** - –ú–æ–¥–µ–ª—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤ —Ç–∞ —ó—Ö —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- **üìÖ –ü–æ–∫–æ–ª—ñ–Ω–Ω—è –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤** - –ü–æ–∫–æ–ª—ñ–Ω–Ω—è –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤ —Ç–∞ –º–æ–¥–µ–ª—å–Ω—ñ —Ä–æ–∫–∏
- **‚öôÔ∏è –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤** - –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- **üé® –ö–æ–ª—å–æ—Ä–∏** - –î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤ —Ç–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∫–æ–ª—å–æ—Ä—ñ–≤

### üåç –ì–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ –î–∞–Ω—ñ
- **üåç –†–µ–≥—ñ–æ–Ω–∏** - –ì–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ —Ä–µ–≥—ñ–æ–Ω–∏ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ñ –ø–æ–¥—ñ–ª–∏
- **üèôÔ∏è –ú—ñ—Å—Ç–∞** - –ú—ñ—Å—Ç–∞ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è

### üöô –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ñ –ó–∞—Å–æ–±–∏
- **üöô –¢–∏–ø–∏ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏—Ö –ó–∞—Å–æ–±—ñ–≤** - –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ —Ç–∏–ø–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏—Ö –∑–∞—Å–æ–±—ñ–≤

### üîß System
- **‚ù§Ô∏è Health Check** - System health monitoring and status checks

## üöÄ Quick Start

### 1. Authentication
```bash
# Register new user
POST /api/users/create/

# Login
POST /api/auth/login/

# Use JWT token in headers
Authorization: Bearer <your-jwt-token>
```

### 2. Browse Cars
```bash
# Get all car marks
GET /api/ads/reference/car-marks/

# Get models for a specific mark
GET /api/ads/reference/car-models/?mark_id=1

# Search advertisements
GET /api/ads/advertisements/?search=BMW
```

### 3. Create Advertisement
```bash
# Create new advertisement
POST /api/ads/advertisements/

# Upload images
POST /api/ads/advertisements/{id}/images/
```

## üîí Authentication

The API uses JWT (JSON Web Tokens) for authentication:

1. **Register** or **Login** to get access and refresh tokens
2. **Include** the access token in the `Authorization` header
3. **Refresh** tokens when they expire

```http
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
```

## üìä Response Format

All API responses follow a consistent format:

### Success Response
```json
{
  "count": 150,
  "next": "http://localhost:8000/api/endpoint/?page=2",
  "previous": null,
  "results": [...]
}
```

### Error Response
```json
{
  "detail": "Error message description",
  "code": "error_code"
}
```

### Validation Error
```json
{
  "field_name": ["This field is required."],
  "another_field": ["Invalid value provided."]
}
```

## üîß Development

### Running the API
```bash
# Start development server
python manage.py runserver

# Access documentation
open http://localhost:8000/api/doc/
```

### Testing
```bash
# Run all tests
python manage.py test

# Run specific app tests
python manage.py test apps.ads
```

## üìù Contributing

When adding new endpoints:

1. **Use standardized tags** from `core.schemas.common_schemas.CANONICAL_TAGS`
2. **Follow naming conventions** with emoji prefixes
3. **Include proper documentation** with operation summaries and descriptions
4. **Add appropriate security** settings for public/private endpoints
5. **Use common parameters** from `core.schemas.common_schemas`

## üåê Environment URLs

### Development
- **API Base**: http://localhost:8000/api/
- **Swagger UI**: http://localhost:8000/api/doc/
- **ReDoc**: http://localhost:8000/api/redoc/
- **Admin Panel**: http://localhost:8000/admin/

### Production
- Update URLs according to your production environment
- Ensure HTTPS is enabled
- Configure proper CORS settings

## üìû Support

For questions or issues:
1. Check the detailed guides in this documentation
2. Review the interactive Swagger UI
3. Contact the development team

---

*This documentation is automatically updated with API changes.*
