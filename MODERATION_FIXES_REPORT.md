# üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ 500 –æ—à–∏–±–æ–∫

## –î–∞—Ç–∞: 2025-10-24

---

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è** ‚ùå
**–§–∞–π–ª:** `backend/apps/ads/views/moderation_queue_views.py`  
**–°—Ç—Ä–æ–∫–∏:** 61-83

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# –°–¢–ê–†–´–ô –ö–û–î (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
queryset = queryset.filter(
    status__in=[
        AdStatusEnum.PENDING,
        AdStatusEnum.NEEDS_REVIEW,
        AdStatusEnum.REJECTED,
        AdStatusEnum.BLOCKED,
        AdStatusEnum.ACTIVE,
    ]
)
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚ùå –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º DRAFT
- ‚ùå –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º INCOMPLETE  
- ‚ùå –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º UNPUBLISHED
- ‚ùå –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –ù–ï –≤–∏–¥–∏—Ç –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ
- ‚ùå –¢–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —á–∞—Å—Ç–æ –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å DRAFT

---

### 2. **Reference endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 500 –æ—à–∏–±–æ–∫** ‚ùå
**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ endpoints:**
- `/api/public/reference/vehicle-types?page_size=30` ‚Üí 500
- `/api/public/reference/regions?page_size=30` ‚Üí 500
- `/api/public/reference/colors?page_size=100` ‚Üí 500

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∞–µ—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚ùå –§–æ—Ä–º—ã —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è** ‚úÖ

**–ù–æ–≤—ã–π –∫–æ–¥:**
```python
def get_queryset(self):
    """Get ALL ads for moderation - moderators can see everything."""
    # –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ
    queryset = CarAd.objects.select_related(
        "account", "account__user", "mark", "moderated_by"
    ).order_by("-created_at")

    # –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Å—Ç–∞—Ç—É—Å-—Ñ–∏–ª—å—Ç—Ä, –ø—Ä–∏–º–µ–Ω—è–µ–º –µ–≥–æ
    status_filter = self.request.GET.get("status")
    if status_filter:
        queryset = queryset.filter(status=status_filter)
    
    # –í–ê–ñ–ù–û: –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è
    # –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ: DRAFT, PENDING, ACTIVE, REJECTED, etc.
    # –õ–æ–≥–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏: –≤—Å–µ —á—Ç–æ –µ—Å—Ç—å –≤ –ø–æ–∏—Å–∫–µ, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

    return queryset
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç **–∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ** –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –í–∫–ª—é—á–∞—è —á–µ—Ä–Ω–æ–≤–∏–∫–∏ (DRAFT)
- ‚úÖ –í–∫–ª—é—á–∞—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ (INCOMPLETE)
- ‚úÖ –í–∫–ª—é—á–∞—è –Ω–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ (UNPUBLISHED)
- ‚úÖ –í–∫–ª—é—á–∞—è —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Å—Ç–∞—Ç—É—Å—É —á–µ—Ä–µ–∑ GET –ø–∞—Ä–∞–º–µ—Ç—Ä

---

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ reference endpoints** üîÑ
**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ backend –Ω–∞ –æ—à–∏–±–∫–∏
2. –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã –∑–∞–≤–∏—Å–∞–Ω–∏—è endpoints
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

---

## üìä –õ–æ–≥–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–Ω—Ü–∏–ø—ã:
1. **–í—Å–µ —á—Ç–æ –µ—Å—Ç—å –≤ –ø–æ–∏—Å–∫–µ ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏**
2. **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è**
3. **–í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ç–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –º–æ–¥–µ—Ä–∞—Ü–∏—é:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö)
   - –†—É—á–Ω—É—é (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)

### –°—Ç–∞—Ç—É—Å—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π:
- `DRAFT` - —á–µ—Ä–Ω–æ–≤–∏–∫ (—Ç–µ–ø–µ—Ä—å –≤–∏–¥–µ–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É)
- `PENDING` - –æ–∂–∏–¥–∞–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- `NEEDS_REVIEW` - —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏  
- `ACTIVE` - –∞–∫—Ç–∏–≤–Ω–æ
- `REJECTED` - –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
- `BLOCKED` - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
- `INCOMPLETE` - –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ (—Ç–µ–ø–µ—Ä—å –≤–∏–¥–µ–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É)
- `UNPUBLISHED` - –Ω–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–µ (—Ç–µ–ø–µ—Ä—å –≤–∏–¥–µ–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–≤—Å–µ** –æ–±—ä—è–≤–ª–µ–Ω–∏—è
2. ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
3. ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É —Ä–∞–±–æ—Ç–∞–µ—Ç
4. üîÑ Reference endpoints –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 500
5. üîÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚è≥ –£—Å—Ç—Ä–∞–Ω–∏—Ç—å 500 –æ—à–∏–±–∫–∏ –≤ reference endpoints
2. ‚è≥ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏
4. ‚è≥ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤–∏–¥–Ω—ã

---

**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è...

