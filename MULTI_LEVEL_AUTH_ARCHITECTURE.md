# üîê –ë–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–∞ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

## –û–≥–ª—è–¥

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î **—Ç—Ä–∏—Ä—ñ–≤–Ω–µ–≤—É —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó** –∑ –¥–≤–æ–º–∞ —Ä—ñ–∑–Ω–∏–º–∏ –ø—ñ–¥—Ö–æ–¥–∞–º–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ–∫—Ü—ñ–π:

- **AutoRia —Å–µ–∫—Ü—ñ—è**: –ü–æ–≤–Ω–∞ —Ç—Ä–∏—Ä—ñ–≤–Ω–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ (Middleware ‚Üí HOC ‚Üí fetchWithAuth)
- **Dummy —Å–µ–∫—Ü—ñ—è**: –°–ø—Ä–æ—â–µ–Ω–∞ –¥–≤–æ—Ä—ñ–≤–Ω–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ (Middleware ‚Üí Error Handling)

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ü—ñ–¥—Ö–æ–¥—ñ–≤

| –ê—Å–ø–µ–∫—Ç | AutoRia | Dummy |
|--------|---------|-------|
| **–†—ñ–≤–Ω—ñ–≤ –∑–∞—Ö–∏—Å—Ç—É** | 3 (Middleware + HOC + fetchWithAuth) | 2 (Middleware + Error Handling) |
| **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ NextAuth** | ‚úÖ Middleware | ‚úÖ Middleware |
| **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Backend —Ç–æ–∫–µ–Ω—ñ–≤** | ‚úÖ HOC (–ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞) | ‚ùå –¢—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö |
| **–û–±—Ä–æ–±–∫–∞ 401** | ‚úÖ fetchWithAuth + Error Handler | ‚úÖ useApiErrorHandler |
| **Auto Refresh** | ‚úÖ –¢–∞–∫ | ‚ùå –ù—ñ |
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** | –í–∏—Å–æ–∫–∞ | –ù–∏–∑—å–∫–∞ |
| **–ë–µ–∑–ø–µ–∫–∞** | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ | –ë–∞–∑–æ–≤–∞ |

---

## üèóÔ∏è AutoRia: –¢—Ä–∏—Ä—ñ–≤–Ω–µ–≤–∞ –°–∏—Å—Ç–µ–º–∞

### –†—ñ–≤–µ–Ω—å 1: Middleware (Next.js) - –ü–µ—Ä—à–∞ –õ—ñ–Ω—ñ—è –ó–∞—Ö–∏—Å—Ç—É

**–§–∞–π–ª**: `frontend/src/middleware.ts`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ NextAuth —Å–µ—Å—Å—ñ—ó **–î–û** —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏

#### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:

```typescript
// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–ª—è AutoRia —Å–µ–∫—Ü—ñ—ó
if (AUTORIA_PATHS.some(path => pathname.startsWith(path))) {
  const token = await getToken({ req, secret: process.env.NEXTAUTH_SECRET });
  
  if (!token || !token.email) {
    // ‚ùå –ù–µ–º–∞—î NextAuth —Å–µ—Å—Å—ñ—ó
    return NextResponse.redirect('/api/auth/signin?callbackUrl=...');
  }
  
  // ‚úÖ NextAuth —Å–µ—Å—Å—ñ—è –≤–∞–ª—ñ–¥–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ –¥–∞–ª—ñ
  return NextResponse.next();
}
```

#### –î—ñ—ó –ø—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:

- **–†–µ–¥–∏—Ä–µ–∫—Ç**: `/api/auth/signin?callbackUrl=<original_url>`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –û—Ç—Ä–∏–º–∞—Ç–∏ NextAuth OAuth —Å–µ—Å—Å—ñ—é (Google, Email)

---

### –†—ñ–≤–µ–Ω—å 2: HOC (Higher-Order Component) - –î—Ä—É–≥–∞ –õ—ñ–Ω—ñ—è –ó–∞—Ö–∏—Å—Ç—É

**–§–∞–π–ª**: `frontend/src/hoc/withAutoRiaAuth.tsx`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ **backend —Ç–æ–∫–µ–Ω—ñ–≤** (access/refresh) –≤ localStorage

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: Backend —Ç–æ–∫–µ–Ω–∏ –º–æ–∂—É—Ç—å —ñ—Å–Ω—É–≤–∞—Ç–∏ **–¢–Ü–õ–¨–ö–ò** –ø—Ä–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ NextAuth —Å–µ—Å—Å—ñ—ó. –ù–µ–º–æ–∂–ª–∏–≤–æ –º–∞—Ç–∏ —Ç–æ–∫–µ–Ω–∏ –≤ Redis –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—ó NextAuth —Å–µ—Å—Å—ñ—ó.

#### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:

```typescript
export function withAutoRiaAuth<P>(WrappedComponent: React.ComponentType<P>) {
  return function WithAutoRiaAuthComponent(props: P) {
    useEffect(() => {
      // NextAuth —Å–µ—Å—Å—ñ—è –£–ñ–ï –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞ middleware
      // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –¢–Ü–õ–¨–ö–ò backend —Ç–æ–∫–µ–Ω–∏
      
      const backendAuth = localStorage.getItem('backend_auth');
      
      if (!backendAuth) {
        // ‚ùå –ù–µ–º–∞—î backend —Ç–æ–∫–µ–Ω—ñ–≤
        router.replace('/login?callbackUrl=...');
        return;
      }
      
      const authData = JSON.parse(backendAuth);
      if (!authData?.access || !authData?.refresh) {
        // ‚ùå –¢–æ–∫–µ–Ω–∏ –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ
        router.replace('/login?callbackUrl=...');
        return;
      }
      
      // ‚úÖ Backend —Ç–æ–∫–µ–Ω–∏ –≤–∞–ª—ñ–¥–Ω—ñ
      setIsAuthorized(true);
    }, []);
    
    if (!isAuthorized) {
      return <LoadingScreen />;
    }
    
    return <WrappedComponent {...props} />;
  };
}
```

#### –î—ñ—ó –ø—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ backend —Ç–æ–∫–µ–Ω—ñ–≤:

- **–†–µ–¥–∏—Ä–µ–∫—Ç**: `/login?callbackUrl=<original_url>&error=backend_auth_required`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –û—Ç—Ä–∏–º–∞—Ç–∏ backend access/refresh —Ç–æ–∫–µ–Ω–∏ –∑ Django API

#### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

```typescript
// –ó–∞—Ö–∏—Å—Ç —Å—Ç–æ—Ä—ñ–Ω–∫–∏ AutoRia
export default withAutoRiaAuth(AutoRiaHomePage);
```

---

### –†—ñ–≤–µ–Ω—å 3: fetchWithAuth - –¢—Ä–µ—Ç—è –õ—ñ–Ω—ñ—è –ó–∞—Ö–∏—Å—Ç—É

**–§–∞–π–ª**: `frontend/src/utils/fetchWithAuth.ts`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –ø—ñ–¥ —á–∞—Å API –∑–∞–ø–∏—Ç—ñ–≤

#### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:

```typescript
export async function fetchWithAuth(url: string, options?: RequestInit) {
  // 1. –û—Ç—Ä–∏–º—É—î–º–æ access token –∑ localStorage
  const authData = JSON.parse(localStorage.getItem('backend_auth') || '{}');
  let accessToken = authData.access;
  
  // 2. –î–æ–¥–∞—î–º–æ Authorization header
  const response = await fetch(url, {
    ...options,
    headers: {
      ...options?.headers,
      'Authorization': `Bearer ${accessToken}`,
    },
  });
  
  // 3. –Ø–∫—â–æ 401 - —Ç–æ–∫–µ–Ω –∑–∞—Å—Ç–∞—Ä—ñ–≤
  if (response.status === 401) {
    // 3.1. –°–ø—Ä–æ–±–∞ –æ–Ω–æ–≤–∏—Ç–∏ access token —á–µ—Ä–µ–∑ refresh token
    const refreshToken = authData.refresh;
    
    const refreshResponse = await fetch('/api/auth/refresh', {
      method: 'POST',
      body: JSON.stringify({ refresh: refreshToken }),
    });
    
    if (refreshResponse.ok) {
      // ‚úÖ –¢–æ–∫–µ–Ω –æ–Ω–æ–≤–ª–µ–Ω–∏–π
      const { access } = await refreshResponse.json();
      localStorage.setItem('backend_auth', JSON.stringify({
        access,
        refresh: refreshToken,
      }));
      
      // –ü–æ–≤—Ç–æ—Ä—é—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –∑–∞–ø–∏—Ç –∑ –Ω–æ–≤–∏–º —Ç–æ–∫–µ–Ω–æ–º
      return fetch(url, {
        ...options,
        headers: {
          ...options?.headers,
          'Authorization': `Bearer ${access}`,
        },
      });
    } else {
      // ‚ùå Refresh token —Ç–∞–∫–æ–∂ –∑–∞—Å—Ç–∞—Ä—ñ–≤
      // –û—á–∏—â—É—î–º–æ —Ç–æ–∫–µ–Ω–∏ —Ç–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º–æ –Ω–∞ /login
      localStorage.removeItem('backend_auth');
      window.location.href = '/login?error=token_expired';
      throw new Error('Authentication expired');
    }
  }
  
  return response;
}
```

#### –§—É–Ω–∫—Ü—ñ—ó:

1. **Auto Refresh**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è access token –ø—Ä–∏ 401
2. **Retry Logic**: –ü–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Ç –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞
3. **Error Handling**: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login –ø—Ä–∏ –Ω–µ–≤–¥–∞—á—ñ

---

## üõ†Ô∏è Dummy: –î–≤–æ—Ä—ñ–≤–Ω–µ–≤–∞ –°–∏—Å—Ç–µ–º–∞

### –†—ñ–≤–µ–Ω—å 1: Middleware - –ü–µ—Ä—à–∞ –õ—ñ–Ω—ñ—è –ó–∞—Ö–∏—Å—Ç—É

**–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ AutoRia** - –ø–µ—Ä–µ–≤—ñ—Ä—è—î NextAuth —Å–µ—Å—Å—ñ—é

### –†—ñ–≤–µ–Ω—å 2: Error Handling - –†–µ–∞–∫—Ç–∏–≤–Ω–∞ –û–±—Ä–æ–±–∫–∞

**–§–∞–π–ª–∏**: 
- `frontend/src/app/(main)/(dummy)/recipes/useRecipes.ts`
- `frontend/src/app/(main)/(dummy)/users/useUsers.ts`

#### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:

```typescript
export const useRecipes = ({ initialData }: IProps) => {
  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ initialData
  useEffect(() => {
    if (initialData instanceof Error) {
      // ‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ SSR
      signOut({ callbackUrl: "/api/auth/signin" });
    }
  }, [initialData]);
  
  // Query –∑ –æ–±—Ä–æ–±–∫–æ—é –ø–æ–º–∏–ª–æ–∫
  const { data } = useInfiniteQuery({
    queryFn: async () => {
      const response = await fetch('/api/recipes');
      
      if (response.status === 401) {
        // ‚ùå 401 –ø—ñ–¥ —á–∞—Å –∑–∞–ø–∏—Ç—É
        signOut({ callbackUrl: "/api/auth/signin" });
        throw new Error('Unauthorized');
      }
      
      return response.json();
    },
  });
};
```

#### –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ AutoRia:

- ‚ùå **–ù–µ–º–∞—î HOC**: –ù–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î backend —Ç–æ–∫–µ–Ω–∏ –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ
- ‚ùå **–ù–µ–º–∞—î Auto Refresh**: –ü—Ä–∏ 401 –æ–¥—Ä–∞–∑—É signOut
- ‚úÖ **–ü—Ä–æ—Å—Ç—ñ—à–∞**: –ú–µ–Ω—à–µ –∫–æ–¥—É, –ª–µ–≥—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏
- ‚ùå **–ú–µ–Ω—à –±–µ–∑–ø–µ—á–Ω–∞**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –±–µ–∑ –≤–∞–ª—ñ–¥–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤

---

## üîÑ –ü—Ä–æ—Ü–µ—Å –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

### 1. SIGNOUT - –ü–æ–≤–Ω–∏–π –í–∏—Ö—ñ–¥

**–§—É–Ω–∫—Ü—ñ—è**: `cleanupAuth(redirectUrl?: string)`  
**–§–∞–π–ª**: `frontend/src/lib/auth/cleanupAuth.ts`

#### –©–æ –æ—á–∏—â—É—î—Ç—å—Å—è:

```typescript
export async function cleanupAuth(redirectUrl?: string) {
  // 1. –û—á–∏—â—É—î–º–æ Redis (backend —Ç–æ–∫–µ–Ω–∏, –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏)
  await fetch('/api/auth/cleanup', { method: 'POST' });
  
  // 2. –û—á–∏—â—É—î–º–æ NextAuth —Å–µ—Å—Å—ñ—é
  await signOut({ redirect: false });
  
  // 3. –û—á–∏—â—É—î–º–æ localStorage (–∑–±–µ—Ä—ñ–≥–∞—é—á–∏ theme/language)
  const theme = localStorage.getItem('theme');
  const language = localStorage.getItem('language');
  localStorage.clear();
  if (theme) localStorage.setItem('theme', theme);
  if (language) localStorage.setItem('language', language);
  
  // 4. –û—á–∏—â—É—î–º–æ sessionStorage
  sessionStorage.clear();
  
  // 5. –†–µ–¥–∏—Ä–µ–∫—Ç
  window.location.href = redirectUrl || '/api/auth/signin';
}
```

#### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:

- –ö–Ω–æ–ø–∫–∞ "Sign Out" –≤ –º–µ–Ω—é
- –ü–æ–≤–Ω–∏–π –≤–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏
- **–†–µ–¥–∏—Ä–µ–∫—Ç**: `/api/auth/signin` (–ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–æ–≤—É –∞–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—è —á–µ—Ä–µ–∑ OAuth)

---

### 2. LOGOUT - –ß–∞—Å—Ç–∫–æ–≤–µ –û—á–∏—â–µ–Ω–Ω—è

**–§—É–Ω–∫—Ü—ñ—è**: `cleanupBackendTokens()`  
**–§–∞–π–ª**: `frontend/src/lib/auth/cleanupAuth.ts`

#### –©–æ –æ—á–∏—â—É—î—Ç—å—Å—è:

```typescript
export async function cleanupBackendTokens() {
  // 1. –û—á–∏—â—É—î–º–æ Redis (backend —Ç–æ–∫–µ–Ω–∏)
  await fetch('/api/auth/cleanup', { method: 'POST' });
  
  // 2. –û—á–∏—â—É—î–º–æ localStorage backend —Ç–æ–∫–µ–Ω–∏
  localStorage.removeItem('backend_auth');
  localStorage.removeItem('accessToken');
  localStorage.removeItem('refreshToken');
  sessionStorage.removeItem('backend_auth');
  
  // ‚ö†Ô∏è NextAuth —Å–µ—Å—Å—ñ—è –ó–ê–õ–ò–®–ê–Ñ–¢–¨–°–Ø –∞–∫—Ç–∏–≤–Ω–æ—é!
}
```

#### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:

- –ö–Ω–æ–ø–∫–∞ "Logout (Redis)" –≤ AutoRiaUserBadge
- –û—á–∏—Å—Ç–∫–∞ backend —Ç–æ–∫–µ–Ω—ñ–≤ –±–µ–∑ –≤–∏—Ö–æ–¥—É –∑ NextAuth
- **–†–µ–¥–∏—Ä–µ–∫—Ç**: `/login` (NextAuth —Å–µ—Å—Å—ñ—è —â–µ –∞–∫—Ç–∏–≤–Ω–∞, –ø—Ä–æ—Å—Ç–æ –≤–∏–±—Ä–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Å–ø–∏—Å–∫—É)

---

## üéØ –ë–ª–æ–∫-—Å—Ö–µ–º–∞ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó AutoRia

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–∞–π—Ç–∏ –Ω–∞       ‚îÇ
‚îÇ   /autoria                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Middleware (–†—ñ–≤–µ–Ω—å 1)                ‚îÇ
‚îÇ   –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: NextAuth —Å–µ—Å—Å—ñ—è            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ              ‚îÇ
      ‚ùå –ù—ñ           ‚úÖ –¢–∞–∫
         ‚îÇ              ‚îÇ
         ‚ñº              ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ Redirect –Ω–∞ ‚îÇ  ‚îÇ HOC (–†—ñ–≤–µ–Ω—å 2)       ‚îÇ
  ‚îÇ /api/auth/  ‚îÇ  ‚îÇ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: backend   ‚îÇ
  ‚îÇ signin      ‚îÇ  ‚îÇ —Ç–æ–∫–µ–Ω–∏ –≤ localStorage‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                  ‚îÇ              ‚îÇ
               ‚ùå –ù—ñ           ‚úÖ –¢–∞–∫
                  ‚îÇ              ‚îÇ
                  ‚ñº              ‚ñº
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ Redirect –Ω–∞ ‚îÇ  ‚îÇ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        ‚îÇ
           ‚îÇ /login      ‚îÇ  ‚îÇ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è   ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                            ‚îÇ API –∑–∞–ø–∏—Ç –¥–æ backend‚îÇ
                            ‚îÇ —á–µ—Ä–µ–∑ fetchWithAuth ‚îÇ
                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                             ‚îÇ              ‚îÇ
                          ‚ùå 401          ‚úÖ 200
                             ‚îÇ              ‚îÇ
                             ‚ñº              ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ fetchWithAuth   ‚îÇ  ‚îÇ –î–∞–Ω—ñ       ‚îÇ
                    ‚îÇ (–†—ñ–≤–µ–Ω—å 3):     ‚îÇ  ‚îÇ –æ—Ç—Ä–∏–º–∞–Ω—ñ   ‚îÇ
                    ‚îÇ 1. Refresh token‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ 2. Retry request‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ              ‚îÇ
                  ‚úÖ OK           ‚ùå Fail
                     ‚îÇ              ‚îÇ
                     ‚ñº              ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ –î–∞–Ω—ñ       ‚îÇ  ‚îÇ Redirect –Ω–∞ ‚îÇ
              ‚îÇ –æ—Ç—Ä–∏–º–∞–Ω—ñ   ‚îÇ  ‚îÇ /login      ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîë –¢–∏–ø–∏ –¢–æ–∫–µ–Ω—ñ–≤

### ‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–æ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –¢–æ–∫–µ–Ω—ñ–≤

**–ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–õ–ò–í–û**: Backend —Ç–æ–∫–µ–Ω–∏ –Ω–µ –º–æ–∂—É—Ç—å —ñ—Å–Ω—É–≤–∞—Ç–∏ –±–µ–∑ NextAuth —Å–µ—Å—Å—ñ—ó!

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  NextAuth Session (–û–±–æ–≤'—è–∑–∫–æ–≤–æ)                 ‚îÇ
‚îÇ  ‚Üì                                               ‚îÇ
‚îÇ  ‚îî‚Üí Backend Tokens (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ –∑–∞–ª–µ–∂–∞—Ç—å)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ú–æ–∂–ª–∏–≤—ñ —Å—Ç–∞–Ω–∏**:
- ‚úÖ NextAuth —Å–µ—Å—Å—ñ—è: –Ñ ‚Üí Backend —Ç–æ–∫–µ–Ω–∏: –ù–µ–º–∞—î (–ø–æ–∫–∞–∑–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ email badge)
- ‚úÖ NextAuth —Å–µ—Å—Å—ñ—è: –Ñ ‚Üí Backend —Ç–æ–∫–µ–Ω–∏: –Ñ (–ø–æ–∫–∞–∑–∞—Ç–∏ –æ–±–∏–¥–≤–∞ badges)
- ‚ùå NextAuth —Å–µ—Å—Å—ñ—è: –ù–µ–º–∞—î ‚Üí Backend —Ç–æ–∫–µ–Ω–∏: –Ñ (–ù–ï–ú–û–ñ–õ–ò–í–û!)

### NextAuth Session (OAuth)

**–ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è**: HTTP-only cookie (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ NextAuth)  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ Next.js  
**–û—Ç—Ä–∏–º–∞–Ω–Ω—è**: `/api/auth/signin` (Google OAuth, Email Magic Link)  
**Lifetime**: 30 –¥–Ω—ñ–≤ (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ `authConfig`)

### Backend Tokens (Django JWT)

**–ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è**: `localStorage.backend_auth` + Redis  
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGc..."
}
```

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ Django API  
**–û—Ç—Ä–∏–º–∞–Ω–Ω—è**: `/login` (–≤–∏–±—ñ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Å–ø–∏—Å–∫—É)  
**Lifetime**: 
- Access token: 15 —Ö–≤–∏–ª–∏–Ω
- Refresh token: 7 –¥–Ω—ñ–≤

**‚ö†Ô∏è –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å**: –ü–æ—Ç—Ä–µ–±—É—î –∞–∫—Ç–∏–≤–Ω—É NextAuth —Å–µ—Å—Å—ñ—é

---

## üìç –†–µ–¥–∏—Ä–µ–∫—Ç–∏ —Ç–∞ —ó—Ö –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

| –†–µ–¥–∏—Ä–µ–∫—Ç | –ö–æ–ª–∏ | –ü—Ä–∏—á–∏–Ω–∞ | –ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫ |
|----------|------|---------|----------------|
| `/api/auth/signin` | Middleware | –ù–µ–º–∞—î NextAuth —Å–µ—Å—Å—ñ—ó | OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è |
| `/login` | HOC –∞–±–æ fetchWithAuth | –ù–µ–º–∞—î backend —Ç–æ–∫–µ–Ω—ñ–≤ | –í–∏–±—ñ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `/autoria` | –ü—ñ—Å–ª—è login | Backend —Ç–æ–∫–µ–Ω–∏ –æ—Ç—Ä–∏–º–∞–Ω—ñ | –î–æ—Å—Ç—É–ø –¥–æ AutoRia |

---

## üÜö –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫–∏–π –ø—ñ–¥—Ö—ñ–¥?

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ AutoRia (–¢—Ä–∏—Ä—ñ–≤–Ω–µ–≤–∏–π):

‚úÖ **–ö—Ä–∏—Ç–∏—á–Ω–∞ —Å–µ–∫—Ü—ñ—è** –∑ —á—É—Ç–ª–∏–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏  
‚úÖ **–°–∫–ª–∞–¥–Ω–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞** –∑ –±–∞–≥–∞—Ç—å–º–∞ API –∑–∞–ø–∏—Ç–∞–º–∏  
‚úÖ **–ü–æ—Ç—Ä—ñ–±–µ–Ω auto-refresh** —Ç–æ–∫–µ–Ω—ñ–≤  
‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –±–µ–∑–ø–µ–∫–∞** –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Dummy (–î–≤–æ—Ä—ñ–≤–Ω–µ–≤–∏–π):

‚úÖ **–ü—Ä–æ—Ç–æ—Ç–∏–ø—É–≤–∞–Ω–Ω—è** —Ç–∞ —à–≤–∏–¥–∫–∞ —Ä–æ–∑—Ä–æ–±–∫–∞  
‚úÖ **–ù–µ–∫—Ä–∏—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ** (–¥–µ–º–æ, —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ)  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏** –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –±–µ–∑–ø–µ–∫—É  
‚úÖ **–ú–µ–Ω—à–µ –∫–æ–¥—É** –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –∑–∞–¥–∞—á

---

## üõ°Ô∏è –ü–µ—Ä–µ–≤–∞–≥–∏ –ë–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –°–∏—Å—Ç–µ–º–∏

### –ë–µ–∑–ø–µ–∫–∞

- **Defense in Depth**: –ö–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø—Ä–æ–±–ª–µ–º
- **Zero Trust**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –∫–æ–∂–Ω–æ–º—É –µ—Ç–∞–ø—ñ
- **Graceful Degradation**: –ü—Ä–∏ –∑–±–æ—ó –æ–¥–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å —ñ–Ω—à—ñ

### UX

- **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—î –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –±–µ–∑ –¥–æ—Å—Ç—É–ø—É
- **Seamless Refresh**: Auto-refresh —Ç–æ–∫–µ–Ω—ñ–≤ –±–µ–∑ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏
- **Clear Feedback**: –ó—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

### –†–æ–∑—Ä–æ–±–∫–∞

- **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å**: –ö–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ
- **–¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å**: –õ–µ–≥–∫–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –æ–∫—Ä–µ–º–æ
- **–ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è**: –õ–æ–≥–∏ –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∑–Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Middleware

```typescript
// frontend/src/middleware.ts
const AUTORIA_PATHS = [
  '/autoria/search',
  '/autoria/ad',
  '/autoria/my-ads',
  '/autoria'
];
```

### HOC

```typescript
// –ó–∞—Ö–∏—Å—Ç –∑ –≤–∏–º–æ–≥–æ—é backend —Ç–æ–∫–µ–Ω—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
export default withAutoRiaAuth(MyPage);

// –ó–∞—Ö–∏—Å—Ç –±–µ–∑ –≤–∏–º–æ–≥–∏ backend —Ç–æ–∫–µ–Ω—ñ–≤
export default withAutoRiaAuth(MyPage, { requireBackendAuth: false });
```

### fetchWithAuth

```typescript
// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
const response = await fetchWithAuth('/api/autoria/ads');
const data = await response.json();
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ –†–µ—Å—É—Ä—Å–∏

- [NextAuth.js Documentation](https://next-auth.js.org/)
- [Django REST Framework JWT](https://www.django-rest-framework.org/api-guide/authentication/)
- [Redis –¥–ª—è —Å–µ—Å—ñ–π](https://redis.io/docs/manual/security/)

---

## üéì –í–∏—Å–Ω–æ–≤–æ–∫

–ë–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞–±–µ–∑–ø–µ—á—É—î:

1. ‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—É –±–µ–∑–ø–µ–∫—É** —á–µ—Ä–µ–∑ Defense in Depth
2. ‚úÖ **–í—ñ–¥–º—ñ–Ω–Ω–∏–π UX** —á–µ—Ä–µ–∑ –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ auto-refresh
3. ‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å** —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
4. ‚úÖ **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** —á–µ—Ä–µ–∑ —á—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

–î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–µ–∫—Ü—ñ–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **AutoRia –ø—ñ–¥—Ö—ñ–¥** (3 —Ä—ñ–≤–Ω—ñ),  
–¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø—ñ–≤ —Ç–∞ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–µ–∫—Ü—ñ–π - **Dummy –ø—ñ–¥—Ö—ñ–¥** (2 —Ä—ñ–≤–Ω—ñ).

