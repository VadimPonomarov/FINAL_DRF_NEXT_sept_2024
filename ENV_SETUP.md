# üì¶ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

## üéØ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–ø–æ–≤–Ω—ñ—Å—Ç—é —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É** –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è –∑ —î–¥–∏–Ω–æ—é –ø–∞–ø–∫–æ—é `env-config/` –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è:
- ‚úÖ –Ñ–¥–∏–Ω–æ–≥–æ –¥–∂–µ—Ä–µ–ª–∞ —ñ—Å—Ç–∏–Ω–∏ –¥–ª—è –≤—Å—ñ—Ö –∑–º—ñ–Ω–Ω–∏—Ö
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∏ Docker —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- ‚úÖ DRY –ø—Ä–∏–Ω—Ü–∏–ø—É - –∫–æ–∂–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–∞ —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

```
env-config/                    # –í–°–Ü –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –≤ –æ–¥–Ω—ñ–π –ø–∞–ø—Ü—ñ
‚îú‚îÄ‚îÄ .env.base                  # –ë–∞–∑–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ + –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ
‚îú‚îÄ‚îÄ .env.secrets               # –°–µ–∫—Ä–µ—Ç–∏ (–ù–ï –∫–æ–º–º—ñ—Ç—è—Ç—å—Å—è –≤ git)
‚îú‚îÄ‚îÄ .env.docker                # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è Docker —Å—Ä–µ–¥—ã
‚îú‚îÄ‚îÄ .env.local                 # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ load-env.py                # –ó–∞–≥—Ä—É–∑—á–∏–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

**–í–∞–∂–ª–∏–≤–æ:** –í—Å—ñ –ª–æ–∫–∞–ª—å–Ω—ñ `.env` —Ñ–∞–π–ª–∏ –≤ –ø–∞–ø–∫–∞—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –≤–∏–¥–∞–ª–µ–Ω—ñ! –¢–µ–ø–µ—Ä –≤—Å–µ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ `env-config/`.

## üöÄ –®–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π–ª—ñ–≤
–í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ `env-config/`:
- ‚úÖ `.env.base` - –±–∞–∑–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
- ‚úÖ `.env.secrets` - —Å–µ–∫—Ä–µ—Ç–∏ (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è)
- ‚úÖ `.env.docker` - Docker –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
- ‚úÖ `.env.local` - –ª–æ–∫–∞–ª—å–Ω—ñ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–∞ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ –æ–Ω–æ–≤—ñ—Ç—å `env-config/.env.secrets`:

```bash
# –û–±–æ–≤'—è–∑–∫–æ–≤—ñ —Å–µ–∫—Ä–µ—Ç–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏:
POSTGRES_PASSWORD=password                    # –ü–∞—Ä–æ–ª—å PostgreSQL
SECRET_KEY=django-insecure-your-secret-key... # Django secret key
NEXTAUTH_SECRET=bXL+w0/zn9FX477unDrwiDMw...   # NextAuth secret

# Google OAuth (–Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏):
GOOGLE_CLIENT_ID=317007351021-lhq7qt2ppsnihugttrs2f81nmvjbi0vr...
GOOGLE_CLIENT_SECRET=GOCSPX-test_secret_key_for_development
GOOGLE_API_KEY=test_google_api_key_for_development

# –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ (–¥–ª—è email):
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password

# –ü—Ä–∏–º—ñ—Ç–∫–∞: –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó (ENCRYPTED_*) –∑–∞–ª–∏—à–µ–Ω—ñ –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ,
# –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏
```

### 3. –ì–æ—Ç–æ–≤–æ!
–°–∏—Å—Ç–µ–º–∞ –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ —Ä–æ–±–æ—Ç–∏. –õ–æ–∫–∞–ª—å–Ω—ñ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤ `.env.local` —Ç–∞ Docker –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `.env.docker` –≤–∂–µ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ.

## üìã –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ñ–∞–π–ª—ñ–≤

### üîß env-config/.env.base
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ë–∞–∑–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ + –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
**–ö–æ–º–º—ñ—Ç–∏—Ç—å—Å—è:** ‚úÖ –¢–∞–∫ (–ø—É–±–ª—ñ—á–Ω—ñ –¥–∞–Ω—ñ)

–ú—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ –≤ –ª–æ–≥—ñ—á–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª–∞—Ö:
- **–û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É** (–Ω–∞–∑–≤–∞, –≤–µ—Ä—Å—ñ—è, compose project)
- **–ú–µ—Ä–µ–∂–µ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** (PostgreSQL, Redis, RabbitMQ —Ö–æ—Å—Ç–∏/–ø–æ—Ä—Ç–∏)
- **URL —Å–µ—Ä–≤—ñ—Å—ñ–≤** (–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ Docker URL —Ç–∞ –ø—É–±–ª—ñ—á–Ω—ñ browser URL)
- **NextAuth –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** (URL –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó)
- **Celery –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** (result backend)
- **Django —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ** (–ø–æ—Ä—Ç, settings, –º–µ–¥—ñ–∞, –∫–µ—à, —Å–µ—Å—ñ—ó, –±–µ–∑–ø–µ–∫–∞)
- **Frontend —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ** (Next.js –ø–æ—Ä—Ç, build ID, telemetry)
- **Celery —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ** (worker concurrency, prefetch, beat schedule)

### üîê env-config/.env.secrets
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –°–µ–∫—Ä–µ—Ç–Ω—ñ –¥–∞–Ω—ñ
**–ö–æ–º–º—ñ—Ç–∏—Ç—å—Å—è:** ‚ùå –ù–Ü (–¥–æ–¥–∞–Ω–æ –≤ .gitignore)

–ú—ñ—Å—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–∏ –≤ –ª–æ–≥—ñ—á–Ω–∏—Ö –≥—Ä—É–ø–∞—Ö:
- **–û—Å–Ω–æ–≤–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏** (Django SECRET_KEY, JWT secret, NextAuth secret)
- **–ü–∞—Ä–æ–ª—ñ –±–∞–∑ –¥–∞–Ω–∏—Ö** (PostgreSQL, RabbitMQ –ø–∞—Ä–æ–ª—ñ)
- **OAuth —Å–µ–∫—Ä–µ—Ç–∏** (Google Client ID/Secret)
- **API –∫–ª—é—á—ñ** (Google API, Google Maps, Tavily AI)
- **Email —Å–µ–∫—Ä–µ—Ç–∏** (SMTP username/password)

### üê≥ env-config/.env.docker
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è Docker —Å—Ä–µ–¥—ã
**–ö–æ–º–º—ñ—Ç–∏—Ç—å—Å—è:** ‚úÖ –¢–∞–∫

–ú—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è Docker:
- `IS_DOCKER=true` / `NEXT_PUBLIC_IS_DOCKER=true`
- `DJANGO_ENV=production`
- CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
- Redis URL –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ Docker URL)

### üè† env-config/.env.local
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
**–ö–æ–º–º—ñ—Ç–∏—Ç—å—Å—è:** ‚úÖ –¢–∞–∫

–ú—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É:
- `IS_DOCKER=false` / `NEXT_PUBLIC_IS_DOCKER=false`
- `DJANGO_ENV=development`
- –õ–æ–∫–∞–ª—å–Ω—ñ —Ö–æ—Å—Ç–∏ (`localhost` –∑–∞–º—ñ—Å—Ç—å `redis`, `pg`, `rabbitmq`)
- DEBUG —Ä–µ–∂–∏–º–∏ —Ç–∞ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

## ‚öôÔ∏è –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö

### üê≥ Docker Compose
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è YAML anchor –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤:

```yaml
# –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –±–ª–æ–∫ —Ñ–∞–π–ª—ñ–≤ –æ–∫—Ä—É–∂–µ–Ω–∏—è
x-env-files: &env-files
  - ./env-config/.env.base       # 1. –ë–∞–∑–æ–≤—ñ + –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ
  - ./env-config/.env.secrets    # 2. –°–µ–∫—Ä–µ—Ç–∏
  - ./env-config/.env.docker     # 3. Docker –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

services:
  app:
    env_file: *env-files         # –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤!

  frontend:
    env_file: *env-files

  # ... –≤—Å—ñ —ñ–Ω—à—ñ —Å–µ—Ä–≤—ñ—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç–æ–π –∂–µ –±–ª–æ–∫
```

### üíª –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞

#### üêç Python —Å–µ—Ä–≤—ñ—Å–∏ (Django/Celery)
–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.env.local` –∑–∞–º—ñ—Å—Ç—å `.env.docker`:

```python
# Python (Django/Celery)
from dotenv import load_dotenv
load_dotenv("env-config/.env.base")      # –ë–∞–∑–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ
load_dotenv("env-config/.env.secrets")   # –°–µ–∫—Ä–µ—Ç–∏
load_dotenv("env-config/.env.local")     # –õ–æ–∫–∞–ª—å–Ω—ñ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
```

#### ‚öõÔ∏è Next.js Frontend
Next.js –º–∞—î –≤–ª–∞—Å–Ω—É —Å–∏—Å—Ç–µ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è `.env` —Ñ–∞–π–ª—ñ–≤, –∞–ª–µ –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –≤ `next.config.js`.

**–ü—ñ–¥—Ö—ñ–¥:** –ü—Ä–æ–≥—Ä–∞–º–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∏—Ö –∑ `env-config/` –≤ `frontend/next.config.js`

```javascript
// frontend/next.config.js
// –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã –∏–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π env-config/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
import path from 'path';
import fs from 'fs';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ .env —Ñ–∞–π–ª–∞
function loadEnvFile(filePath) {
  if (!fs.existsSync(filePath)) return {};

  const content = fs.readFileSync(filePath, 'utf8');
  const env = {};

  content.split('\n').forEach(line => {
    line = line.trim();
    if (line && !line.startsWith('#') && line.includes('=')) {
      const [key, ...valueParts] = line.split('=');
      const value = valueParts.join('=');
      env[key.trim()] = value.trim();
    }
  });

  return env;
}

// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ env-config/ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
const envConfigDir = path.resolve(__dirname, '../env-config');
const baseEnv = loadEnvFile(path.join(envConfigDir, '.env.base'));
const secretsEnv = loadEnvFile(path.join(envConfigDir, '.env.secrets'));
const localEnv = loadEnvFile(path.join(envConfigDir, '.env.local'));

// –û–±—ä–µ–¥–∏–Ω—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ø–æ–∑–¥–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Ä–∞–Ω–Ω–∏–µ)
const allEnv = { ...baseEnv, ...secretsEnv, ...localEnv };

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ process.env
Object.entries(allEnv).forEach(([key, value]) => {
  if (!process.env[key]) {
    process.env[key] = value;
  }
});

console.log('üîß Loaded environment variables from env-config/');
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:**
- ‚úÖ **–ü–æ–≤–Ω–µ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è DRY** - –∑–º—ñ–Ω–Ω—ñ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —Ç—ñ–ª—å–∫–∏ –≤ `env-config/`
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞** - –∂–æ–¥–Ω–æ–≥–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞** - Next.js –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫** - base ‚Üí secrets ‚Üí local
- ‚úÖ **–ù–µ–º–∞—î –ª–æ–∫–∞–ª—å–Ω–∏—Ö .env —Ñ–∞–π–ª—ñ–≤** –≤ `frontend/` –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∫–∞** - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–Ω—ñ (`ENCRYPTED_*`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤—É—é—Ç—å—Å—è

**–û–±—Ä–æ–±–∫–∞ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö:**
Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤—É—î `ENCRYPTED_GOOGLE_CLIENT_SECRET` —Ç–∞ —ñ–Ω—à—ñ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —á–µ—Ä–µ–∑ `cryptoUtils.ts`.

### üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `load-env.py` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

```bash
cd env-config
python load-env.py
```

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ –∑ `env-config/` –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ `next.config.js`.

**–ñ–æ–¥–Ω–æ—ó —Ä—É—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ:**
- ‚úÖ –ó–º—ñ–Ω–∏ –≤ `env-config/.env.base` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ñ —É frontend
- ‚úÖ –ó–º—ñ–Ω–∏ –≤ `env-config/.env.secrets` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ñ —É frontend
- ‚úÖ –ó–º—ñ–Ω–∏ –≤ `env-config/.env.local` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ñ —É frontend
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ `npm run dev` –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –Ω–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è

## üîê –ë–µ–∑–ø–µ–∫–∞

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ:
1. **–ù–ï –∫–æ–º–º—ñ—Ç–∏—Ç–∏** `env-config/.env.secrets` –≤ git
2. **–§–∞–π–ª –≤–∂–µ –¥–æ–¥–∞–Ω–æ** –≤ `.gitignore`
3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏** —Å–∏–ª—å–Ω—ñ –ø–∞—Ä–æ–ª—ñ —Ç–∞ –∫–ª—é—á—ñ
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç—É–≤–∞—Ç–∏** —Å–µ–∫—Ä–µ—Ç–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ

### ‚úÖ –§–∞–π–ª–∏ –≤ git:
- ‚úÖ `env-config/.env.base` - –±–∞–∑–æ–≤—ñ + –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
- ‚úÖ `env-config/.env.docker` - Docker –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- ‚úÖ `env-config/.env.local` - –ª–æ–∫–∞–ª—å–Ω—ñ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- ‚úÖ `env-config/load-env.py` - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚úÖ `frontend/next.config.js` - –ø—Ä–æ–≥—Ä–∞–º–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∑ env-config/

### ‚ùå –ù–ï –≤ git:
- ‚ùå `env-config/.env.secrets` - —Å–µ–∫—Ä–µ—Ç–Ω—ñ –¥–∞–Ω—ñ

### üö´ –§–∞–π–ª–∏, —è–∫—ñ –ù–ï –ø–æ–≤–∏–Ω–Ω—ñ —ñ—Å–Ω—É–≤–∞—Ç–∏:
- ‚ùå `frontend/.env.local` - –≤–∏–¥–∞–ª–µ–Ω–æ (–ø–æ—Ä—É—à—É–≤–∞–≤ DRY –ø—Ä–∏–Ω—Ü–∏–ø)
- ‚ùå `frontend/.env.docker` - –≤–∏–¥–∞–ª–µ–Ω–æ (–¥—É–±–ª—é–≤–∞–≤ env-config/.env.docker)
- ‚ùå `backend/.env*` - –≤–∏–¥–∞–ª–µ–Ω–æ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î env-config/ —á–µ—Ä–µ–∑ load_dotenv)

### üìù –ü—Ä–∏–º—ñ—Ç–∫–∞ –ø—Ä–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É:
**–ü–æ–≤–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è:** –í—Å—ñ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –≤–∏–∑–Ω–∞—á–µ–Ω—ñ **—Ç—ñ–ª—å–∫–∏** –≤ `env-config/` –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó.
Frontend –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —ó—Ö –ø—Ä–æ–≥—Ä–∞–º–Ω–æ —á–µ—Ä–µ–∑ `next.config.js`, backend - —á–µ—Ä–µ–∑ `load_dotenv()`.

### ‚ùå –§–∞–π–ª–∏ –ù–ï –≤ git:
- ‚ùå `.env/.env.secrets` - —Ä–µ–∞–ª—å–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏

## üß™ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Docker Compose
docker-compose config

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
docker-compose exec app env | grep POSTGRES
docker-compose exec app env | grep SECRET_KEY
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç—ñ–≤:
```bash
# –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ —Å–µ–∫—Ä–µ—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ
docker-compose exec app printenv | grep -E "(PASSWORD|SECRET|KEY)" | head -5
```

## üîß –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤—ñ—Å–∞

1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–ø–∫—É —Å–µ—Ä–≤—ñ—Å–∞:**
   ```bash
   mkdir new-service
   ```

2. **–°—Ç–≤–æ—Ä–∏—Ç–∏ .env —Ñ–∞–π–ª —Å–µ—Ä–≤—ñ—Å–∞:**
   ```bash
   touch new-service/.env
   ```

3. **–î–æ–¥–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:**
   ```bash
   # new-service/.env
   NEW_SERVICE_PORT=9000
   NEW_SERVICE_SPECIFIC_CONFIG=value
   ```

4. **–û–Ω–æ–≤–∏—Ç–∏ docker-compose.yml:**
   ```yaml
   new-service:
     env_file:
       - ./.env/.env.base
       - ./.env/.env.secrets
       - ./.env/.env.local
       - ./new-service/.env
   ```

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

‚úÖ **DRY –ø—Ä–∏–Ω—Ü–∏–ø** - –∫–æ–∂–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–∞ —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
‚úÖ **–ë–µ–∑–ø–µ–∫–∞** - —Å–µ–∫—Ä–µ—Ç–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–∞ –Ω–µ –∫–æ–º–º—ñ—Ç—è—Ç—å—Å—è
‚úÖ **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Å–µ—Ä–≤—ñ—Å–∏
‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ Docker —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
‚úÖ **–ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å** - —è—Å–Ω–æ, –¥–µ —è–∫–∞ –∑–º—ñ–Ω–Ω–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–∞

## üö® –£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ó–º—ñ–Ω–Ω–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `.env/.env.base` - –∑–∞–≥–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `.env/.env.secrets` - —Å–µ–∫—Ä–µ—Ç–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `service/.env` - —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤ docker-compose.yml

### –ö–æ–Ω—Ñ–ª—ñ–∫—Ç –∑–º—ñ–Ω–Ω–∏—Ö:
- –ó–º—ñ–Ω–Ω—ñ –∑ –ø—ñ–∑–Ω—ñ—à–∏—Ö —Ñ–∞–π–ª—ñ–≤ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞—é—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ
- –ü–æ—Ä—è–¥–æ–∫: base ‚Üí secrets ‚Üí local ‚Üí service-specific

### –°–µ–∫—Ä–µ—Ç–∏ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è:
1. –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ `.env/.env.secrets` —ñ—Å–Ω—É—î
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—É
3. –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ —Ñ–∞–π–ª –≤–∫–∞–∑–∞–Ω–∏–π –≤ docker-compose.yml

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ Docker Compose:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
docker-compose config

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —è–∫—ñ –∑–º—ñ–Ω–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ
docker-compose exec app env | head -20

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑ –Ω–æ–≤–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏
docker-compose down && docker-compose up -d
```

–¶—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –±–µ–∑–ø–µ–∫—É**, **–ø—Ä–æ—Å—Ç–æ—Ç—É —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è** —Ç–∞ **–ª–µ–≥–∫–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è**! üéØ
